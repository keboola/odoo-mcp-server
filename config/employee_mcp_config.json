{
  "mode": "employee_self_service",
  "version": "1.1",

  "features": {
    "profile": {
      "enabled": true,
      "fields": [
        "name",
        "work_email",
        "mobile_phone",
        "department_id",
        "job_id",
        "parent_id",
        "coach_id",
        "x_preferred_name",
        "x_division"
      ]
    },
    "directory": {
      "enabled": true,
      "searchable_fields": ["name", "work_email", "department_id"],
      "visible_fields": [
        "name",
        "work_email",
        "mobile_phone",
        "department_id",
        "job_title",
        "x_preferred_name"
      ]
    },
    "leave": {
      "enabled": true,
      "allow_requests": true,
      "allow_cancellation": true,
      "visible_leave_types": ["all"]
    },
    "documents": {
      "enabled": true,
      "dms_integration": true,
      "allowed_folders": ["Contracts", "Identity"],
      "restricted_folders": ["Background Checks", "Offboarding Documents"],
      "upload_allowed": ["Identity"]
    }
  },

  "security": {
    "user_context_required": true,
    "manager_features": false,
    "admin_features": false,
    "rate_limit": {
      "requests_per_minute": 30,
      "write_operations_per_hour": 10,
      "document_uploads_per_day": 5
    }
  },

  "odoo": {
    "url": "https://erp.internal.keboola.com",
    "database": "keboola-community",
    "user_mapping": "oauth_email_to_work_email"
  },

  "custom_modules": {
    "hr_employee_custom_fields": {
      "enabled": true,
      "fields": {
        "x_preferred_name": "Employee preferred name (synced from BambooHR)",
        "x_division": "Business division (synced from BambooHR)"
      }
    },
    "hr_contract_employee_visibility": {
      "enabled": true,
      "purpose": "Fixes contractor visibility for contracts buttons"
    },
    "dms": {
      "enabled": true,
      "source": "OCA",
      "notes": "HR Document Management with strict access controls"
    },
    "hr_employee_dms_smart_button": {
      "enabled": true,
      "purpose": "Smart button linking employee profiles to DMS folders"
    }
  }
}
